<!DOCTYPE html>
<html>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
<style>
body, html {
    height: 100%;
    font-family: "Inconsolata", sans-serif;
}
.bgimg {
    background-position: center;
    background-size: cover;
    background-image: url("img/home.png");
    min-height: 75%;
}
.menu {
    display: none;
}
</style>
<body>

<!-- Links (sit on top) -->
<div class="w3-top">
  <div class="w3-row w3-padding w3-black">
    <div class="w3-col s3">
      <a href="#" class="w3-button w3-block w3-black">HOME</a>
    </div>
    <div class="w3-col s3">
      <a href="#intro" class="w3-button w3-block w3-black">INTRO</a>
    </div>
    <div class="w3-col s3">
      <a href="#implementation" class="w3-button w3-block w3-black">IMPLEMENTATION</a>
    </div>
    <div class="w3-col s3">
      <a href="#end" class="w3-button w3-block w3-black">CONCLUSION</a>
    </div>
  </div>
</div>

<!-- Header with image -->
<header class="bgimg w3-display-container w3-grayscale-min" id="home">
  <div class="w3-display-bottomleft w3-center w3-padding-large w3-hide-small">
    <span class="w3-tag">By Lorenzo Cazzoli</span>
  </div>
  <div class="w3-display-middle w3-center">
    <span class="w3-text-white" style="font-size:90px">My Farm</span>
  </div>
  <div class="w3-display-bottomright w3-center w3-padding-large">
    <span class="w3-text-white">20 november 2017</span>
  </div>
</header>

<!-- Add a background color and large text to the whole page -->
<div class="w3-sand w3-grayscale w3-large">

<!-- About Container -->
<div class="w3-container" id="about">
  <div class="w3-content" style="max-width:700px">
    <h3 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">ABOUT MY FARM</span></h3>
    <p>MyFarm è un videogioco 3D in terza persona interamente sviluppato in C++ mediante l'ausilio delle librerie OpenGL ed SDL in ambiente *nix come progetto finale per il corso di Grafica tenutosi nell'anno 2015/2016 dal prof. Giulio Casciola presso l'Università Alma Mater degli Studi di Bologna.
    In questo sito web sono presentati gli step che hanno permesso la creazione di MyFarm. Particolare attenzione sar&egrave; data alle funzioni utilizzate per la creazione degli oggetti nella scena, della scenografia, dell'illuminazione, nonché delle texture che sono state impiegate. </p>
  </div>
</div>

<!-- Intro Container -->
<div class="w3-container" id="intro">
  <div class="w3-content" style="max-width:700px">
    <h3 class="w3-center w3-padding-48"><span class="w3-tag w3-wide">INTRODUZIONE</span></h3>
    <p> Il progetto MyFarm si ispira al progetto Car mostrato a lezione.
        In esso una monoposto era libera di muoversi nella scena e seguire un circuito.
        Il primo passo &egrave; stato sostituire la monoposto con il trattore protagonista del nostro gioco.
        La carlinga della monoposto &egrave; stata sostituita dalla carrozzeria del trattore e lo stesso &egrave; stato fatto per le ruote.
        Risetto alla monoposto &egrave; stato aggiunto un volante che si muove insieme allo sterzo.
        Quest'ultimo e le ruote sono animate attraverso l'utilizzo delle funzioni glRotate e glTranslate.
        I movimenti nella scena sono soggetti alle leggi fisiche del mondo e sono implementati seguendo le dinamiche usate nel progetto Car.
    </p>
    <p>
        Per mantenere delle prestazioni accettabili, &egrave; molto importante fare attenzione al numero di poligoni delle mesh utilizzate.
        Per questa ragione, tutte le mesh utilizzate nella scena, sono state scelte controllando la complessita&agrave; delle loro geometrie.
        Questo &egrave; stato possibile importando le mesh in blender, dove le mesh sono state anche modificate e successivamente esportate nel formato obj.
        Quasi sempre si sono ottenuti pi&ugrave; file obj dalla stessa mesh, poich&egrave; la mesh originale &egrave; stata scomposta in parti pi&ugrave; piccole per motivi di gestibilit&agrave; e personalizzazione (colore e/o texture).
    </p>
    <img src="img/tractor.png" style="width:100%;max-width:1000px;margin-top:32px;">
  </div>
</div>

<!-- Target container -->
<div class="w3-container" id="target">
  <div class="w3-content" style="max-width:700px">
    <h3 class="w3-center w3-padding-48"><span class="w3-tag w3-wide">SCOPO DEL GIOCO</span></h3>
    <p>MyFarm &egrave; una rappresentazione di una fattoria nella quale il giocatore deve raccogliere pi&ugrave kg di mais possibili in 1 minuto. Il trattore &egrave; posto al centro della scena e da qui l'utente pu&ograve; muoversi per la scene e raccogliere il mais dai campi che lo circondano. Ogni qualvolta un blocco di mais viene investito il raccolto incrementa di 1 kg.
    </p>
    <img src="img/tractor_position.png" style="width:100%;max-width:1000px;margin-top:32px;">
  </div>
</div>

<div class="w3-container" id="command">
  <div class="w3-content" style="max-width:700px">
    <h3 class="w3-center w3-padding-48"><span class="w3-tag w3-wide">INTERFACCIA E COMANDI</span></h3>
    <p>L'interfaccia &egrave; composta da pochi semplici elementi. Quello pi&ugrave; evidente &egrave; senza dubbio la mappa 2D della scena. In essa sono visibili la posizione del trattore nella scena (punto blu) e quella del mais che non &egrave; stato ancora raccolto (punti rossi). </br>
    Contro i bordi laterali della finestra sono rappresentate con tre barre 2D le informazioni riguardo fps per secondo, percentuale del mais raccolto e il tempo rimanente. Le barre differiscono per altezza e colore, elementi che cambiano anche durante la partita per rappresentare dati diversi. La barra dei frame per secondo (estrema sinistra) varia tra il rosso (minimo) e il blu (massimo) passando per il viola. Sempre sul lato sinistro &egrave; visibile la barra del raccolto. Inizialmente vuota cresce in proporzione al mais raccolto e cambia colore partendo da un rosso iniziale fino al verde per le percentuali maggiori. Dal lato opposto della finestra (estrema destra) &egrave; presente la barra del tempo. Essa parte da piena e cala col passar del tempo. I colori usati sono sempre il verde e il rosso, che aiutano a inquadrare meglio la situazione temporale. </br>
    L'ultimo elemento &egrave; una scritta che indica in modo testuale i kg di mais raccolti fino a quel momento.
    </p>
    <img src="img/interface.png" style="width:100%;max-width:1000px;margin-top:32px;">
    <p>Attraverso l'uso della libreria SDL &egrave; creato il ciclo degli eventi che permette di gestire tutti gli eventi in input forniti dall'utente. Nella modalit&agrave; camera libera &egrave; possibile ruotare il punto di vista, mediante il trascinamento e la pressione del tasto sinistro del mouse, mentre tramite lo scroll si controlla lo zoom. Questi comandi sono stati gestiti attraverso l'utilizzo degli eventi SDL_MOUSEMOTION e SDL_MOUSEWHEEL.</br>
    L'accelerazione (positiva e negativa) e lo sterzo sono controllati da tastiera o Joystick. Attraverso glie eventi SDL_KEYDOWN e SDL_KEYUP si pu&ograve; verificare la pressione di uno tra i pulsanti W, A, S, D utilizzati per il movimento del veicolo. Al verificarsi di questi eventi le chiamate alle funzioni EatKey e DoStep modificano i parametri della classe Tractor che definiscono la sua posizione nella scena e quindi i suoi spostamenti quando sar&agrave; chiamata la funzione Render. In alternativa a questi tasti, il trattore pu&ograve; essere controllato anche attravero un Joystick esterno. Gli eventi SDL_JOYAXISMOTION, SDL_JOYBUTTONDOWN e SDL_JOYBUTTONUP, mappati dalla funzione Joy nei comandi corrispondenti, ci permettono di utilizzare il movimento del joypad e la pressione dei pulsanti come alternativa ai pulsnati W, A, S, D.</br>
    Oltre ai pulsanti citati sopra sono attivi anche i pulsanti ESC, utilizzato per uscire dalla schermata finale, e i pulsanti F1 F2 F3 F4 F5. Questi danno la possibilit&agrave; di cambiare tra le posizioni definite per la camera, osservare il mondo in wireframe, utilizzare una carrozzeria differente (texture), attivare le luci frontali del trattore e nascondere l'ombra del veicolo.
    </p>
  </div>
</div>

<div class="w3-container" id="implementation">
  <div class="w3-content" style="max-width:700px">
    <h3 class="w3-center w3-padding-48"><span class="w3-tag w3-wide">IMPLEMENTAZIONE</span></h3>
    <p> In questa sezione sarranno illustrati in modo pi&ugrave; dettagliato le scelte implementative che sono state adoperate nella creazione di questo progetto.
    </p>
    <h5><class="w3-center w3-padding-48"><span class="w3-tag w3-wide">Il Trattore</span></h5>
    <p>&Egrave; l'elemento principale della scena. La sua mesh &egrave; stata scaricata da internet e poi modificata attraverso blender. Le  modifiche effettuate sono state la rimozione di parti superflue, la separazione delle ruote e infine la divisione per colore. In questo modo &egrave stata generata una mesh per ogni colore e una mesh per ogni oggetto che si muove, per qualche grado di libert&agrave;, in maniera indipendente dalla corpo del trattore.</p>
    <img src="img/blender_tractor.png" style="width:100%;max-width:1000px;margin-top:32px;">
    <p>La rotazione delle ruote &egrave; implementata tramite l'uso di glRotate. L'asse di rotazione varia a seconda delle ruote. Tutte le ruote ruotano attorno all'asse x, simulando l'avanzamento del veicolo, mentre le ruote anteriori ruotano anche sull'asse verticale per simulare lo sterzo. Prima di applicare ogni rotazione gli oggetti sono sempre stati traslati al centro della scena e successivamente riposizionati nella loro posizione originale. Questo serve per evitare perdita di allineamenti tra le parti della vettura, siccome la rotazione &egrave; sempre applicata rispetto al centro della scena.</br>
    Come le ruote, anche il manubrio subisce delle rotazioni equivalenti alla met&agrave; del valore dello sterzo. La rotazione del volante &egrave; pi&ugrave; difficile siccome il volante oltre ad essere traslato al centro va anche ruotato di un 45 gradi (inclinazione del manubrio) prima di poter essere ruotato dell'angolo di sterzo. Questa procedura &egrave; necessaria per poter ruotare il volante attorno ad un asse standard.</br>
    Ogni mesh che compone il trattore &egrave; stata colorata utilizzando colori differenti e alle ruote e alla carrozzeria sono state applicate anche delle textures. Utilizzando la generazione automatica delle cordinate texture &egrave; stato utilizzato GL_EYE_LINEAR per mappare l'immagine scelta su tutta la superficie della carrozzeria. Alle ruote &egrave; stata applicata una texture personalizzata generata da me utilizzando la generazione di coordinate automatiche e il parametro GL_OBJECT_LINEAR.
    </p>
    <img src="img/tractor_texture.png" style="width:100%;max-width:1000px;margin-top:32px;">
    <h5><class="w3-center w3-padding-48"><span class="w3-tag w3-wide">Terreno & Granoturco</span></h5>
    <p>Nella versione fornita dal professore il terreno era composto da una serie di GL_QUADS, colorati con differenti toni di verde. Questa versione &egrave; stata modificata mantenendo la struttura, ma aggiungento una texture, mappata fornendo le coordinate esplicite della texture. Per fare ci&ograve; le cordinate 2D dell'immagine scelta, sono state associate alle coordinate 3D dei quad disegnati.</p>
    <img src="img/ground.png" style="width:100%;max-width:1000px;margin-top:32px;">
    <p>Il granoturco &egrave; rappresentato similarmente. Un singolo blocco di granoturco consiste in un parallelepipedo a cui sono applicate 2 textures diverse. Una per i lati e una per la faccia superiore del solido. Le 2 texture sono sempre applicate manualmente mappando le immagini sul solido.</br>
    Una terza texture &egrave; utilizzata per disegnare il terreno brullo che sostituisce il granoturco raccolto. Anche in questo caso viene disegnato un quad a cui viene assegnata manualmente la texture. Per evitare problemi di visualizzazione questo quad &egrave; situato ad un altezza leggermente superiore dell'erba.</p>
    <img src="img/corn.png" style="width:100%;max-width:1000px;margin-top:32px;">
    <p>Una volta generato un blocco, questo &egrave; disegnato ripetutamente della scena in posizioni diverse. Una matrice, con dimensioni pari al numero di quads di terreno disegnati memorizza un intero che pu&ograve; essere 0, 1 o 2.  </p>

    <h5><class="w3-center w3-padding-48"><span class="w3-tag w3-wide">INTRODUZIONE</span></h5>
    <p></p>
    <p></p>
    <!-- <img src="img/interface.png" style="width:100%;max-width:1000px;margin-top:32px;"> -->
  </div>
</div>

<div class="w3-container" id="end" style="padding-bottom:32px;">
  <div class="w3-content" style="max-width:700px">
    <h3 class="w3-center w3-padding-48"><span class="w3-tag w3-wide">CONCLUSIONI</span></h3>
    <p>Find us at some address at some place.</p>
    <p><span class="w3-tag">FYI!</span> We offer full-service catering for any event, large or small. We understand your needs and we will cater the food to satisfy the biggerst criteria of them all, both look and taste.</p>
    <p><strong>Reserve</strong> a table, ask for today's special or just send us a message:</p>
  </div>
</div>

<!-- End page content -->
</div>

<!-- Footer -->
<footer class="w3-center w3-light-grey w3-padding-48 w3-large">
    <p>LORENZO CAZZOLI</p>
    <p><a href="mailto:lorenzo.cazzoli@studio.unibo.it?Subject=Progetto%20MyFarm" target="_top">lorenzo.cazzoli(at)studio.unibo.it</a></p>
    <p>Matricola: 0000784395</p>
</footer>

</body>
</html>
